<html>
<head>
 <title>Official Spicy UNO Game</title>
 <!-- https://www.w3schools.com/js/js_modules.asp -->
 <!-- script type="module">import {micromark} from 'https://esm.sh/micromark@3?bundle';</script>
    <!-- import {main} from "./main.js"; -->
     <!-- src="./main.js"> -->
 <!-- script type="text/javascript">
     </script -->

 <script type="module">
     import {micromark} from 'https://esm.sh/micromark@3?bundle';

     function closeHamburger() {
         var control = document.querySelector('#hamburger');
         control.checked=false;
     }

     function renderContent(uri) {
       var elements = document.getElementsByClassName('dynamic-content');
       for(var i = 0; i < elements.length; i++) {
          var eid = elements[i].id
          loadContent(eid, uri + eid);
          // console.log(elements[i].id);
       }
     }
         
     function loadContent(eid, uri) {
        // read text from URL location
        var request = new XMLHttpRequest();
        request.open('GET', uri, true);
        request.send(null);
        request.onreadystatechange = function () {
           if (request.readyState === 4 && request.status === 200) {
              var type = request.getResponseHeader('Content-Type');
              if (type.indexOf("text") !== 1) {
                 var content =  request.responseText;
                 var element = document.getElementById(eid);
                 // var rendered = md.render(content);
                 var rendered = micromark(content);
                 element.innerHTML = rendered;
                 // For debugging
                 // console.log(element.innerHTML);
                 // console.log(rendered);
                 // console.log(content);
                 // console.log(eid);
        
              }
           }
        }
        
     }
     // document.querySelector('.main').addEventListener('load', renderContent('https://raw.githubusercontent.com/gautada/spicyuno.fun/main/'));
     renderContent('https://raw.githubusercontent.com/gautada/spicyuno.fun/main/');
 </script>
 
       </head>
 <link rel="stylesheet" href="main.css">
</head>
<body id="main" class="d-flex flex-column h-100">
 <label>
  <input id="hamburger" type="checkbox">
   <span class="menu"> <span class="hamburger"></span> </span>
   <ul>
    <li> <a href="#rules" onclick="closeHamburger();">Rules</a> </li>
    <li> <a href="#contact" onclick="closeHamburger();">Contact</a> </li>
   </ul>
  </label>



    <!-- Main -->
    <main>
     <div id="README.md" class="dynamic-content"></div>
    </main>

    <!-- Sections -->
    <section id="rules">
     <div id="Rules.md" class="dynamic-content"></div>
    </section>
 
    <section id="contact">
     <div id="Contact.md" class="dynamic-content"></div>
    </section>


</body>
</html>
