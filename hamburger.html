<html>
 <head>
  <title>Official Spicy UNO Game</title>
  <script type="module">
import {micromark} from 'https://esm.sh/micromark@3?bundle';
          
function loadContent(uri) {
  var elements = document.getElementsByClassName('dynamic-content');
  for(var i = 0; i < elements.length; i++) {
      var eid = elements[i].id
      if (eid.endsWith(".md")) {
          fetchContent(eid, uri + eid, true);
      } else if (eid.endsWith(".html")) {
          fetchContent(eid, uri + eid, false);
      }
  }
}

function fetchContent(eid, uri, render) {
  var request = new XMLHttpRequest();
  request.open('GET', uri, true);
  request.send(null);
  request.onreadystatechange = function () {
      if (request.readyState === 4 && request.status === 200) {
          var type = request.getResponseHeader('Content-Type');
          if (type.indexOf("text") !== 1) {
              var content =  request.responseText;
              var element = document.getElementById(eid);
              var rendered = content;
              if (render) {
                  rendered = micromark(content);
              }
              element.innerHTML = rendered;
          }
      }
  }
  
}

function closeHamburger() {
  var control = document.querySelector('#hamburger');
  control.checked=false;
}

window.onload = function(){
  var elements = document.querySelectorAll('.hamburger-close');
  elements.forEach(function(value){
    value.onclick = function() { closeHamburger(); };
  });
};

loadContent("https://raw.githubusercontent.com/gautada/spicyuno.fun/main/");
// loadContent("http://www.spicyuno.fun/");

  </script>
  <link rel="stylesheet" href="main.css">
 </head>
<body id="main" class="d-flex flex-column h-100">
 <label>
  <input id="hamburger" type="checkbox">
   <span class="menu"> <span class="hamburger"></span> </span>
   <ul>
    <li> <a href="#rules" class="hamburger-close">Rules</a> </li>
    <li> <a href="#contact" class="hamburger-close">Contact</a> </li>
   </ul>
  </label>


    <!-- Main -->
    <main>
     <div id="top.html" class="dynamic-content"></div>
     <!-- <center>
     <img style="width:60px;height:60px;" src="http://www.spicyuno.fun/spicyuno-logo.png"/>
     <h2>This is the top</h2>
     <hr/>
     </center> -->
    </main>

    <!-- Sections -->
    <section id="readme">
     <div id="README.md" class="dynamic-content dc dc-1"></div>
    </section>
    
    <section id="rules">
     <div id="Rules.md" class="dynamic-content dc dc-2"></div>
    </section>
 
    <section id="contact">
     <div id="Contact.md" class="dynamic-content dc dc-1"></div>
    </section>


</body>
</html>
