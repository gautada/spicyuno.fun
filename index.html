<!DOCTYPE html>
<html class="h-100">
 <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	
  <title>Official spicyuno</title>
  <meta name="description" content="spicyuno information and rules">
  <meta name="author" content="spicyuno.fun">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" 
integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
   <!--Add Custom CSS Here -->
  </style>
 </head>

 <body class="d-flex flex-column h-100">
    <!-- NIVIGATION BAR -->
    <nav id="navigation-bar>Unable to render navigation</nav>

    <!-- Page Content -->
    <main class="container mt-3">
     <div id="README.md" class="bg-light p-5 rounded text-center dynamic-content">Unable to render content</div>
    </main> <!-- End Main Container -->

    <!-- Full Width Sections -->
    
    <!-- The About Link Jumps To This Section -->
    <section id="rules" class="bg-light py-5">
     <div id="Rules.md" class="container dynamic-content"><h3>This content was not loaded</h3></div>
    </section>
		
    <!-- The Contact Link Jumps To This Section -->
    <section id="contact" class="py-5">
     <div id="Contact.md" class="container dynamic-content"><h3>This content was not loaded</h3></div>
    </section>
			
    <!-- End Sections -->		

   <footer class="footer mt-auto py-3 bg-dark">
    <div class="container text-center">
     <span class="text-muted">This Footer Sticks</span>
    </div>
   </footer>


   <!-- Bootstrap JS  https://getbootstrap.com -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-bootstrap/0.5pre/js/jquery-1.8.3.min.js" integrity="sha512-J9QfbPuFlqGD2CYVCa6zn8/7PEgZnGpM5qtFOBZgwujjDnG5w5Fjx46YzqvIh/ORstcj7luStvvIHkisQi5SKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
   <!-- Remark https://remark.js.org -->
   <!-- <script type="text/javascript" src="downloads/remark-latest.min.js"></script> -->  
   <!-- Micromark https://github.com/micromark/micromark -->
   <!-- 
   <script type="module">
    import {micromark} from 'https://esm.sh/micromark@3?bundle'
    console.log(micromark('./Rules.md'))
    // var f = new FileReader();
    // 	`console.log(micromark(f.readAsText("Rules.md")))    
   </script> 
   -->
   <!-- remarkable https://github.com/jonschlinkert/remarkable -->
   <script src="https://cdn.jsdelivr.net/remarkable/1.7.1/remarkable.min.js"></script>
   <script type="module">
var md = new Remarkable();

function renderContent(uri) {
  var elements = document.getElementsByClassName('dynamic-content');
  for(var i = 0; i < elements.length; i++) {
     var eid = elements[i].id
     loadContent(eid, uri + eid);
     // console.log(elements[i].id);
  }
}

function loadContent(eid, uri) {
   // read text from URL location
   var request = new XMLHttpRequest();
   request.open('GET', uri, true);
   request.send(null);
   request.onreadystatechange = function () {
      if (request.readyState === 4 && request.status === 200) {
         var type = request.getResponseHeader('Content-Type');
         if (type.indexOf("text") !== 1) {
            var content =  request.responseText;
            var element = document.getElementById(eid);
            var rendered = md.render(content);
            element.innerHTML = rendered;
	    // For debugging
            // console.log(element.innerHTML);
	    // console.log(rendered);
            // console.log(content);
            // console.log(eid);

         }
      }
   }
  
}

renderContent('https://raw.githubusercontent.com/gautada/spicyuno.fun/main/');

// renderContent('main-content', 'https://raw.githubusercontent.com/gautada/spicyuno.fun/main/README.md');
// renderContent('rules-content', 'https://raw.githubusercontent.com/gautada/spicyuno.fun/main/Rules.md');
// renderContent('contact-content', 'https://raw.githubusercontent.com/gautada/spicyuno.fun/main/Contact.md');
   </script>
 </body>
</html>
